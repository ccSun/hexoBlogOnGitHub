title: Android-Project-Managing
categories:
  - Android
tags:
  - Android
  - IconSize
  - Test
  
date: 2016-02-24 11:07:14
---
Android项目基本配置和管理，以及icon及其size。
## 一、 Android Project Files

### 1. IDE Setting

1. **.idea**
2. **.iml** Module file created by the IntelliJ IDEA to store module information.

### 2. Gradle 相关
1. **gradle** gradler wrapper
2. **.gradle**
3. **gradle.properties** project-wide gradle setting, such as MaxPermSize.
4. **local.properties** computer-specific properties.should not be maintained in a source revision control system. 
5. **build.gradle** Customizable properties for the build system. Set keystore, keyalias. This file is integral to the project, so maintain it in a source revision control system. 
6. **setting.gradle** Specifies the sub-modules to build.
7. **gradlew** gradle startup script for Unix.
8. **gradlew.bat** gradle startup script for Windows.

### 3. Git
1. .gitignore

## 二、 Android Application Modules
1. **src** module directories and files
2. **build** build outputs for all project modules.
3. **libs**

##### src目录分解

1. **proguard-rules.pro**
1. **.iml**
1. **build.gradle**    
Customizable properties for the build system. You can edit this file to override default build settings used by the manifest file and also set the location of your keystore and key alias so that the build tools can sign your application when building in release mode. This file is integral to the project, so maintain it in a source revision control system. 
1. **.gitignore**

1. **androidTest**
1. **main/AndroidManifest**   
    
    ```
		<uses-adk
			android:minSdkVersion=""
			android:targetSdkVersion=""/>
		<uses-permission android:name=""/>
		<permission android:name="" android:protectionLevel=""/>
		<application>
			<activity>
				<intent-filter>
					<action
					<category
					<data
				<service
				<receiver
				<provider
	```
				
3. **main/java**  
4. **main/jni**
5. **main/gen**    
Contains the Java files generated by Android Studio, such as your R.java file and interfaces created from AIDL files.
6. **main/assets**    
Files that you save here are compiled into an .apk file as-is, and the original filename is preserved. 
7. **main/res**
	1. anim	
	2. **drawable** For bitmap files (PNG, JPEG, or GIF), 9-Patch image files, and XML files that describe Drawable shapes or Drawable objects that contain multiple states (normal, pressed, or focused).
	3. **mipmap** For app launcher icons. 
	4. color
	5. layout
	6. raw
	7. values
		string.xml, color.xml, dimens.xml, styles.xml

## 三、 Managing Launcher Icons as mipmap Resources

App资源优化会移除一些未使用的屏幕密度资源，在某些屏上会模糊。
Apps should use the mipmap/ resource folders for launcher icons. The Android system preserves these resources regardless of density stripping, and ensures that launcher apps can pick icons with the best resolution for display.     
Moving all densities of your launcher icons to density-specific res/mipmap/ folders (for example res/mipmap-mdpi/ and res/mipmap-xxxhdpi/)。
***Note:***添加一个当前更高的icon以增加对更高分辨率的兼容性。
    
icon Size:    

| name | DPI | iconSize | 四边各留像素 | 实际图像size |
|-|-|-|-|-|
| ldpi | 120 | 36x36 | 1px | 34x34 |
| mdpi | 160 | 48x48 | 1px | 46x46 |
| hdpi | 240 | 72x72 | 2px | 68x68 |
| xhdpi| 320 | 96x96 | 4px | 88x88 |
| xxhdpi| 480 | 140x140	 | - | - |		

## 四、 Library Module
When you build an application that depends on a library module, the SDK tools ***compile the library into a temporary JAR file*** and use it in the main module, ***then uses the result to generate the .apk***
    
***You cannot:***    

1.  cannot compile it directly to its own .apk
2.  cannot export the library module to a self-contained JAR file
3.  cannot include raw assets; 

***You can:***
    
1.  can add Dependencies添加lib，module和本地jar lib
2.  can include a JAR into a lib module; manually edit the dependent application modules's build path and add a path to the JAR file.
3.  can include an external jar lib into a lib module;

		```
	    <uses-library   	
      		android:name="string"   
      		android:required=["true" | "false"] 
      		/>
		```

***Resource conflicts***    
1. If a resource ID is defined in both the application and the library, the tools ensure that ***the resource declared in the application gets priority*** and that ***the resource in the library module is not compiled into the application .apk***
2. your application can add references to ***multiple library modules***, then specify the relative priority of the resources in each library.When two libraries referenced from an application define the same resource ID, ***the tools select the resource from the library with higher priority and discard the other.***
3. Should use prefixes to avoid resource conflicts;

***Note***    
1. lib platform version要等于或低于app version;
2. No restriction on library module names
3. Each library module creates its own R class 

## 五、 Test Project
The src/androidTest source set may not be created for every type of available module template. If this source set is not created, you can just create it for that module.

More Info http://developer.android.com/tools/testing/index.html.